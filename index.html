<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-analytics.js"></script>
<style>
* {
  box-sizing: border-box;
}

body {
  background-color: #f1f1f1;
}

#regForm {
  background-color: #ffffff;
  margin: 100px auto;
  font-family: Roboto;
  padding: 40px;
  width: 70%;
  min-width: 300px;
}

h1,h2 {
  text-align: center;  
}

input {
  padding: 10px;
  width: 100%;
  font-size: 17px;
  font-family: Roboto;
  border: 1px solid #aaaaaa;
}

/* Mark input boxes that gets an error on validation: */
input.invalid {
  background-color: #ffdddd;
}

/* Hide all steps by default: */
.tab {
  display: none;
}

button {
  background-color: #4CAF50;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  font-family: Roboto;
  cursor: pointer;
  border-radius: 5px;
  background-image: linear-gradient(197deg, #6a00ff, #c300ff);
}

button:hover {
  opacity: 0.8;
}

#prevBtn {
  background-color: #bbbbbb;
}

/* Make circles that indicate the steps of the form: */
.step {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbbbbb;
  border: none;  
  border-radius: 50%;
  display: inline-block;
  opacity: 0.5;
}

.step.active {
  opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
  background-color: #9900ff;
}
textarea {
  height: 200px;
  width: 100%;
  margin-top: 6px;
  padding: 10px;
  width: 100%;
  font-size: 17px;
  font-family: Roboto;
  border: 1px solid #aaaaaa;
}
select {
  font-size: 17px;
  font-family: Roboto;
  border: 1px solid #aaaaaa;
}
</style>
<body>

<form id="regForm" action="#" method="post">
  <h1>OthersideAI Beta</h1>
  <h2>The following is a simple calibration so we can tune the generation to your style.</h2>
  <!-- One "tab" for each step in the form: -->
  <div class="tab">Name:
    <p><input placeholder="Enter Name" oninput="this.className = ''" name="name" id="name"></p>
    Email:
    <p><input placeholder="Enter Email (please enter the Gmail account you will be using OthersideAI with)" oninput="this.className = ''" name="email" id="email"></p>
    Job Title & Company:
    <p><input placeholder="Example: CEO at OthersideAI" oninput="this.className = ''" name="title" id="title"></p>
    What does your company do?
    <textarea placeholder="Example: OthersideAI's email extension helps people write emails faster. Users type in bulleted summaries of what they want to say, and OthersideAI's system turns their summaries into full, well-written emails." oninput="this.className = ''" name="company_does" id="company_does"></textarea>
    <br><br>
    What do you typically do on a day to day basis? (Three main job objectives)
    <p><input placeholder="Example: I meet with VCs, I help build product, and I manage the team." oninput="this.className = ''" name="do" id="does"></p>
    Do you work remotely or in person?
    <select name="worksetting" id="workplace">
      <option value="Remote">Remote</option>
      <option value="In Person">In Person</option>
    </select>
    <br><br>
    Location? (City/State)
    <p><input placeholder="Example: Long Island, NY" oninput="this.className = ''" name="location" id="location"></p>
    Write a paragraph telling us about your current work:
    <textarea placeholder="Example: I'm currently focused on raising a seed round of financing. We're raising from a number of firms. We're targeting a valuation of X, and raising Y. I'm also focused on getting our product ready for beta. We intend to launch it within the next week. I am also working with potential customers to learn about their email habits, helping us build a better product." oninput="this.className = ''" name="current_work" id="current_work"></textarea>

  </div>
  <div class="tab">
    <h3>Calibration Email #1</h3>
    Paste an email you received.<br> Try to paste an email that is similar to emails you reply to very often. For example, if you're a salesperson, you may want to paste an email you received from a potential client.   
     <textarea placeholder="Example:
Hey Matt,

I hope you're well. I wanted to reach out as we haven't caught up in a while. How's Otherside going? I really can't wait to try it out!
     
Would you be able to meet sometime next week? It would be great to catch up, and I really want to see a demo of Otherside in-person!
     
Let me know.
     
Thanks,
Jill" oninput="this.className = ''" name="recived_friendly_one" id="recived_friendly_one"></textarea>
    Paste your response
    <textarea placeholder="Example:
Jill,

Thanks for reaching out! I'm doing great. How are you?
    
Otherside is moving along well. We're launching our beta as we speak!
    
Absolutely -- I'm free later in the week. Want to get lunch Thursday? Happy to show you a demo as well.
    
Let me know. Looking forward to catching up!
    
Thanks,
Matt" oninput="this.className = ''" name="sent_friendly_one" id="sent_friendly_one"></textarea>
    List the main points of your response (Please put a - at the start of each point)
    <textarea placeholder="Example:
- thanks
- doing great, you?
- otherside going well, launching beta now
- later in the week I'm free
- lunch Thursday?
- can show demo
    " oninput="this.className = ''" name="points_friendly_one" id="points_friendly_one"></textarea>
</div>
<div class="tab">
  <h3>Calibration Email #2</h3>
  Paste an email you received.<br> Repeat the same process again, but with a different received email and reply.
   <textarea placeholder="Example:
Hey Matt,

I hope you're well. I wanted to reach out as we haven't caught up in a while. How's Otherside going? I really can't wait to try it out!
   
Would you be able to meet sometime next week? It would be great to catch up, and I really want to see a demo of Otherside in-person!
   
Let me know.
   
Thanks,
Jill" oninput="this.className = ''" name="recived_friendly_two" id="recived_friendly_two"></textarea>
  Paste your response
  <textarea placeholder="Example:
Jill,

Thanks for reaching out! I'm doing great. How are you?
  
Otherside is moving along well. We're launching our beta as we speak!
  
Absolutely -- I'm free later in the week. Want to get lunch Thursday? Happy to show you a demo as well.
  
Let me know. Looking forward to catching up!
  
Thanks,
Matt" oninput="this.className = ''" name="sent_friendly_two" id="sent_friendly_two"></textarea>
  List the main points of your response (Please put a - at the start of each point)
  <textarea placeholder="Example:
- thanks
- doing great, you?
- otherside going well, launching beta now
- later in the week I'm free
- lunch Thursday?
- can show demo
  " oninput="this.className = ''" name="points_friendly_two" id="points_friendly_two"></textarea>
</div>
  <div style="overflow:auto;">
    <div>
      <button type="button" id="prevBtn" style="float:left;" onclick="nextPrev(-1)">Previous</button>
      <button type="button" id="nextBtn" style="float:right;" onclick="nextPrev(1)">Next</button>
    </div>
  </div>
  <!-- Circles which indicates the steps of the form: -->
  <div style="text-align:center;margin-top:40px;">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
  </div>
</form>

<script>
var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab

function showTab(n) {
  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Submit";
  } else {
    document.getElementById("nextBtn").innerHTML = "Next";
  }
  //... and run a function that will display the correct step indicator:
  fixStepIndicator(n)
}

function nextPrev(n) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:
  if (n == 1 && !validateForm()) return false;
  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;
  // if you have reached the end of the form...
  if (currentTab >= x.length) {
    // ... the form gets submitted:
    //document.getElementById("regForm").submit();
    submitData();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByTagName("input");
  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "") {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
      // and set the current valid status to false
      valid = false;
    }
  }
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}

function submitData(){
	var firebaseConfig = {
		apiKey: "AIzaSyCBbR0emc0Zuw6qWoKZoDHlsUCWC2bb0os",
		authDomain: "lucid-analog-283317.firebaseapp.com",
		databaseURL: "https://lucid-analog-283317.firebaseio.com",
		projectId: "lucid-analog-283317",
		storageBucket: "lucid-analog-283317.appspot.com",
		messagingSenderId: "807686486576",
		appId: "1:807686486576:web:56409db268844a843b4bf5",
		measurementId: "G-R83RHYYNVR"
	};
	// Initialize Firebase
	firebase.initializeApp(firebaseConfig);
	var db = firebase.firestore();
	var name = document.getElementById("name").value;
	var email = document.getElementById("email").value;
	var title = document.getElementById("title").value;
	var company_does = document.getElementById("company_does").value;
	var does = document.getElementById("does").value;
	var worksetting = document.getElementById("workplace").value;
	var location = document.getElementById("location").value;
	var current_work = document.getElementById("current_work").value;
	var recived_friendly_one = document.getElementById("recived_friendly_one").value;
	var sent_friendly_one = document.getElementById("sent_friendly_one").value;
	var points_friendly_one = document.getElementById("points_friendly_one").value;
	var recived_friendly_two = document.getElementById("recived_friendly_two").value;
	var sent_friendly_two = document.getElementById("sent_friendly_two").value;
	var points_friendly_two = document.getElementById("points_friendly_two").value;
	db.collection("model_priming_data_user_centric").doc(email).set({
		name : name,
		email : email,
		title : title,
		company_does : company_does,
		does: does,
		worksetting : worksetting,
		location : location,
		current_work : current_work,
		recived_friendly_one : recived_friendly_one,
		sent_friendly_one : sent_friendly_one,
		points_friendly_one : points_friendly_one,
		recived_friendly_two : recived_friendly_two,
		sent_friendly_two : sent_friendly_two,
		points_friendly_two : points_friendly_two,
	})
	.then(function() {
		console.log("Document Successfully Written");
	})
	.catch(function(error) {
		console.error("Error adding document: ", error);
	});
}
</script>

</body>
</html>
